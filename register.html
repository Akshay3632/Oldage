<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html>
    <head>
        <title>login</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
     
        <title>Register & Login</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        <link rel="stylesheet" href="./index.css">
        <link rel="stylesheet" href="css/style.css">
       
    </head>
    <body>
        
    
      <div class="container">
            <h1 class="form-title">Register</h1>
            <form  action="" id="registerForm">
              <div class="alert">Your message sent</div>
              <div id="signInMessage" class="messageDiv" style="display:none;"></div>
    
              <div class="input-group">
                <i class="fas fa-user"></i>
                <input type="text"  id="username" placeholder="First Name" required>
                <label for="fname">UserName</label>
             </div>
             <div class="input-group">
              <i class="fas fa-envelope"></i>
              <input type="text"  id="email" placeholder="First Name" required>
              <label for="fname">Email</label>
           </div>
              <div class="input-group">
                  <i class="fas fa-lock"></i>
                <input type="password" id="password"  placeholder="Password" required>
                  <label for="password">Password</label>
              </div>
              
             <a href="home.html"><button  class="btn"  id="submitSignIn">Register</button></a>
            </form>
            <p class="or">
              ----------or--------
            </p>
            <div class="icons">
              <i class="fab fa-google"></i>
              <i class="fab fa-facebook"></i>
            </div>
            <div class="links">
              <p>Your Account Has Been Created Successfully</p>
              
              <a href="login.html"><button id="signUpButton">Login</button></a>
            </div>
          </div>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
          
     <script src="./script.js"></script>
     <script src="./register.js"></script>
     
    </body>
     <script type="module">
      
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import { getDatabase,set,ref } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";
      import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
      
    
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyC-EC6X0O7dIoflIwhmPJlAUzlMzfZAUMQ",
        authDomain: "contactform-37103.firebaseapp.com",
        databaseURL: "https://contactform-37103-default-rtdb.firebaseio.com",
        projectId: "contactform-37103",
        storageBucket: "contactform-37103.appspot.com",
        messagingSenderId: "219402083589",
        appId: "1:219402083589:web:846d036b75b4bce1b6ab6c"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const databse = getDatabase(app);
      const auth = getAuth();
      submitSignIn.addEventListener('click',(e)=>{
        var email=document.getElementById('email').value;
        var password=document.getElementById('password').value;
        var username=document.getElementById('username').value;
      createUserWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed up 
    const user = userCredential.user;
    set(ref(databse,'users/'+ user.uid),{
      email:email,
      password:password
    })
    alert('user created!');
    window.location.href="home.html";
    // ...
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    // ..
    alert(errorMessage);
  });

      })
      
    </script> 
     
    </html>